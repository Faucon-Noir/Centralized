(()=>{var e={};e.id=919,e.ids=[919,888,660],e.modules={1323:(e,t)=>{"use strict";Object.defineProperty(t,"l",{enumerable:!0,get:function(){return function e(t,r){return r in t?t[r]:"then"in t&&"function"==typeof t.then?t.then(t=>e(t,r)):"function"==typeof t&&"default"===r?t:void 0}}})},777:(e,t,r)=>{"use strict";r.a(e,async(e,s)=>{try{r.r(t),r.d(t,{config:()=>x,default:()=>d,getServerSideProps:()=>m,getStaticPaths:()=>f,getStaticProps:()=>p,reportWebVitals:()=>h,routeModule:()=>j,unstable_getServerProps:()=>b,unstable_getServerSideProps:()=>S,unstable_getStaticParams:()=>y,unstable_getStaticPaths:()=>P,unstable_getStaticProps:()=>g});var i=r(7093),a=r(5244),u=r(1323),o=r(6574),c=r(5551),n=r(680),l=e([c,n]);[c,n]=l.then?(await l)():l;let d=(0,u.l)(n,"default"),p=(0,u.l)(n,"getStaticProps"),f=(0,u.l)(n,"getStaticPaths"),m=(0,u.l)(n,"getServerSideProps"),x=(0,u.l)(n,"config"),h=(0,u.l)(n,"reportWebVitals"),g=(0,u.l)(n,"unstable_getStaticProps"),P=(0,u.l)(n,"unstable_getStaticPaths"),y=(0,u.l)(n,"unstable_getStaticParams"),b=(0,u.l)(n,"unstable_getServerProps"),S=(0,u.l)(n,"unstable_getServerSideProps"),j=new i.PagesRouteModule({definition:{kind:a.x.PAGES,page:"/specification/[id]",pathname:"/specification/[id]",bundlePath:"",filename:""},components:{App:c.default,Document:o.default},userland:n});s()}catch(e){s(e)}})},4038:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),function(e,t){for(var r in t)Object.defineProperty(e,r,{enumerable:!0,get:t[r]})}(t,{noSSR:function(){return o},default:function(){return c}});let s=r(167),i=s._(r(6689)),a=s._(r(4830));function u(e){return{default:(null==e?void 0:e.default)||e}}function o(e,t){delete t.webpack,delete t.modules;let r=t.loading;return()=>i.default.createElement(r,{error:null,isLoading:!0,pastDelay:!1,timedOut:!1})}function c(e,t){let r=a.default,s={loading:e=>{let{error:t,isLoading:r,pastDelay:s}=e;return null}};e instanceof Promise?s.loader=()=>e:"function"==typeof e?s.loader=e:"object"==typeof e&&(s={...s,...e}),s={...s,...t};let i=s.loader;return(s.loadableGenerated&&(s={...s,...s.loadableGenerated},delete s.loadableGenerated),"boolean"!=typeof s.ssr||s.ssr)?r({...s,loader:()=>null!=i?i().then(u):Promise.resolve(u(()=>null))}):(delete s.webpack,delete s.modules,o(r,s))}("function"==typeof t.default||"object"==typeof t.default&&null!==t.default)&&void 0===t.default.__esModule&&(Object.defineProperty(t.default,"__esModule",{value:!0}),Object.assign(t.default,t),e.exports=t.default)},2322:(e,t,r)=>{"use strict";r.d(t,{L2:()=>i,NO:()=>a,gm:()=>u,mv:()=>s});let s="editor_cy",i="button_submit_specification_cy",a="title_specification_cy",u="pop_up_specification_cy"},6574:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>Document});var s=r(997),i=r(6859);function Document(){return(0,s.jsxs)(i.Html,{style:{height:"100%"},children:[s.jsx(i.Head,{}),(0,s.jsxs)("body",{style:{height:"100%",margin:0,padding:0},children:[s.jsx(i.Main,{}),s.jsx(i.NextScript,{})]})]})}},680:(e,t,r)=>{"use strict";r.a(e,async(e,s)=>{try{r.r(t),r.d(t,{default:()=>x});var i=r(997);r(1685);var a=r(6689),u=r(1163),o=r(6711),c=r(5152),n=r.n(c),l=r(7838),d=r.n(l),p=r(9648),f=r(2322),m=e([p]);p=(m.then?(await m)():m)[0];let h=n()(async()=>{},{loadableGenerated:{modules:["specification/[id]/index.tsx -> @/app/components/customEditor"]},ssr:!1});function x({userData:e,updateUserData:t}){(0,u.useRouter)();let[r,s]=(0,a.useState)(!0),[c,n]=(0,a.useState)({}),[l,m]=(0,a.useState)(""),[x,g]=(0,a.useState)(""),[P,y]=(0,a.useState)(!1);async function b(e){e.preventDefault();let t=localStorage.getItem("token");p.default.patch(`http://centralized.fr:8000/api/cdc/${c[l]?.cdc?.id}`,{cdc:x},{headers:{Authorization:`Bearer ${t}`}}).then(function(e){200===e.status&&(y(!0),setTimeout(()=>{y(!1)},1e4))}).catch(function(e){console.log(e)})}(0,a.useEffect)(()=>{if(e.project.length>0){let t={};for(let r of e.project)t[r.id]=r;n(t)}m(new URL(window.location.href).pathname.split("/")[2]),s(!1)},[e]);let S=(0,a.useCallback)(e=>{e!==x&&g(e)},[g,x]);return r?i.jsx("div",{children:"Chargement en cours..."}):i.jsx("div",{className:"spec_id",children:(0,i.jsxs)("div",{className:"right_container",children:[i.jsx("div",{className:"Presentation",children:(0,i.jsxs)("div",{"data-cy":f.NO,className:"TitrePage",style:{color:(0,o.gj)(c[l]?.color!==void 0?c[l]?.color:0)},children:[" ",c[l]?i.jsx("h1",{children:"Mon cahier des charges"}):null]})}),i.jsx("form",{onSubmit:b,children:(0,i.jsxs)("div",{className:"box-specification",children:[i.jsx(h,{"data-cy":f.mv,content:c[l]?.cdc?.cdc,onChange:e=>S(e)}),i.jsx("button",{"data-cy":f.L2,type:"submit",children:i.jsx(d(),{})})]})}),P?(0,i.jsxs)("div",{className:"reqLoad",children:[i.jsx("img",{"data-cy":f.gm,src:"/assets/icons/icon-cross.svg",alt:"",className:"cross",onClick:()=>y(!1)}),i.jsx("p",{children:"Modification"}),i.jsx("p",{style:{fontSize:"10px"},children:"Votre cahier des charges \xe0 \xe9t\xe9 modifi\xe9 avec succes"})]}):null]})})}s()}catch(e){s(e)}})},1685:()=>{},5244:(e,t)=>{"use strict";var r;Object.defineProperty(t,"x",{enumerable:!0,get:function(){return r}}),function(e){e.PAGES="PAGES",e.PAGES_API="PAGES_API",e.APP_PAGE="APP_PAGE",e.APP_ROUTE="APP_ROUTE"}(r||(r={}))},4830:(e,t,r)=>{"use strict";e.exports=r(7093).vendored.contexts.Loadable},5152:(e,t,r)=>{e.exports=r(4038)},7838:e=>{"use strict";e.exports=require("@mui/icons-material/Check")},1191:e=>{"use strict";e.exports=require("@mui/icons-material/FolderCopy")},3365:e=>{"use strict";e.exports=require("@mui/icons-material/Menu")},7986:e=>{"use strict";e.exports=require("@mui/system")},9464:e=>{"use strict";e.exports=require("@mui/system/DefaultPropsProvider")},9590:e=>{"use strict";e.exports=require("@mui/system/colorManipulator")},9826:e=>{"use strict";e.exports=require("@mui/system/createStyled")},1573:e=>{"use strict";e.exports=require("@mui/system/createTheme")},2681:e=>{"use strict";e.exports=require("@mui/system/styleFunctionSx")},3543:e=>{"use strict";e.exports=require("@mui/utils/capitalize")},3559:e=>{"use strict";e.exports=require("@mui/utils/composeClasses")},697:e=>{"use strict";e.exports=require("@mui/utils/deepmerge")},1416:e=>{"use strict";e.exports=require("@mui/utils/formatMuiErrorMessage")},1392:e=>{"use strict";e.exports=require("@mui/utils/generateUtilityClass")},6122:e=>{"use strict";e.exports=require("@mui/utils/generateUtilityClasses")},1080:e=>{"use strict";e.exports=require("@mui/utils/requirePropFactory")},8103:e=>{"use strict";e.exports=require("clsx")},6637:e=>{"use strict";e.exports=require("date-fns/addWeeks/index.js")},1712:e=>{"use strict";e.exports=require("date-fns/format/index.js")},1197:e=>{"use strict";e.exports=require("date-fns/startOfISOWeek/index.js")},2785:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/pages.runtime.prod.js")},580:e=>{"use strict";e.exports=require("prop-types")},6689:e=>{"use strict";e.exports=require("react")},6405:e=>{"use strict";e.exports=require("react-dom")},8176:e=>{"use strict";e.exports=require("react-spinners")},997:e=>{"use strict";e.exports=require("react/jsx-runtime")},9648:e=>{"use strict";e.exports=import("axios")},2880:e=>{"use strict";e.exports=import("jwt-decode")},7147:e=>{"use strict";e.exports=require("fs")},1017:e=>{"use strict";e.exports=require("path")},2781:e=>{"use strict";e.exports=require("stream")},9796:e=>{"use strict";e.exports=require("zlib")}};var t=require("../../webpack-runtime.js");t.C(e);var r=e=>t(t.s=e),s=t.X(0,[562,923,859,551],()=>r(777));module.exports=s})();