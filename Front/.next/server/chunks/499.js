exports.id=499,exports.ids=[499],exports.modules={4171:(e,a,t)=>{"use strict";t.a(e,async(e,s)=>{try{t.d(a,{Z:()=>o});var i=t(997),r=t(6689);t(864);var n=t(9648),l=e([n]);function o({team:e,userData:a,clickable:t}){let[s,l]=(0,r.useState)([{id:0}]),[o,c]=(0,r.useState)(e),[d,m]=(0,r.useState)(""),[u,h]=(0,r.useState)(!1),[p,x]=(0,r.useState)(!1);async function g(e){console.log(e);try{await n.default.delete("http://localhost:8000/api/teamuser/"+e.id,{headers:{Authorization:`Bearer ${a.user.token}`}}).then(t=>{200===t.status&&(e.user.id==a.user.id?window.location.reload():l(a=>a.filter(a=>a.id!==e.id)))})}catch(e){console.log(e)}}async function j(e,t){console.log(e,t),await n.default.post("http://localhost:8000/api/teamuser",{user:e,team:t},{headers:{Authorization:`Bearer ${a.user.token}`}})}async function v(){let e=await n.default.patch("http://localhost:8000/api/team/"+o.id,o,{headers:{Authorization:`Bearer ${a.user.token}`}});if(200==e.status)for(let e of d.split(",")){var t;(t=e.trim(),!String(t).toLowerCase().match(/^(([^<>()[\]\\.,;:\s@"]+(\.[^<>()[\]\\.,;:\s@"]+)*)|.(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/)&&e.trim().length>0)?x(!0):(console.log("ok"),await j(e.trim(),o.id))}window.location.reload()}return(0,r.useEffect)(()=>{try{n.default.get("http://localhost:8000/api/teamuser/"+e.id,{headers:{Authorization:`Bearer ${a.user.token}`}}).then(e=>{200==e.status&&l(e.data)})}catch(e){console.log(e)}},[e.id,a.user.token]),(0,i.jsxs)(i.Fragment,{children:[(0,i.jsxs)("div",{className:"card_team",onClick:()=>t?h(!0):null,children:[i.jsx("div",{className:"card-header yellow",children:i.jsx("img",{src:"/media/"+e.avatar,alt:"avatar",className:"avatar",onError:e=>{e.currentTarget.src="/assets/avatar_team.png"}})}),(0,i.jsxs)("div",{className:"card-body",children:[i.jsx("h2",{className:"team-name",children:e.name}),i.jsx("div",{className:"card-footer",children:(0,i.jsxs)("div",{className:"team-info",children:[i.jsx("i",{className:"icon",children:"\uD83D\uDC65"}),(0,i.jsxs)("span",{children:[s?.length," personnes"]})]})})]})]}),u?i.jsx("div",{className:"team_modal_card",children:(0,i.jsxs)("div",{className:"team_main_modal_card",children:[i.jsx("img",{src:"/assets/icons/icon-cross.svg",alt:"",className:"cross",onClick:()=>h(!1)}),(0,i.jsxs)("div",{className:"team_main_modal_content",children:[i.jsx("div",{className:"image_container",children:i.jsx("img",{src:"/media/"+e.avatar,alt:"avatar",className:"avatar",onError:e=>{e.currentTarget.src="/assets/avatar_team.png"}})}),(0,i.jsxs)("div",{className:"right_modal_container",children:[i.jsx("input",{type:"text",value:o.name,onChange:e=>c({...o,name:e.target.value})}),i.jsx("div",{className:"user_container",children:s?s.map(e=>(0,i.jsxs)("div",{className:"one_user",children:[(0,i.jsxs)("p",{children:[i.jsx("img",{src:"/assets/icons/user.png",alt:""})," ",": ",e.user.lastname," ",e.user.firstname]}),e.user.id===a.user.id?i.jsx("p",{children:"(vous)"}):null,(0,i.jsxs)("p",{children:[i.jsx("img",{src:"/assets/icons/email.png",alt:""})," ",": ",e.user.mail]}),i.jsx("img",{src:"/assets/icons/bin.png",className:"bin_img",alt:"",onClick:()=>g(e)})]},e.id)):null}),i.jsx("input",{type:"text",placeholder:"Ajouter des membres (email)",onChange:e=>m(e.target.value)}),i.jsx("button",{onClick:()=>v(),children:"Termin\xe9"})]})]})]})}):null]})}n=(l.then?(await l)():l)[0],s()}catch(e){s(e)}})},3506:(e,a,t)=>{"use strict";t.a(e,async(e,s)=>{try{t.d(a,{Z:()=>p});var i=t(997),r=t(6689);t(7823);var n=t(9648),l=t(1734),o=t.n(l),c=t(6096),d=t.n(c),m=t(4486),u=t.n(m),h=e([n]);n=(h.then?(await h)():h)[0];let p=function({userData:e,setUserStep:a}){let[t,s]=(0,r.useState)(!1),l=o()("input")({clip:"rect(0 0 0 0)",clipPath:"inset(50%)",height:1,overflow:"hidden",position:"absolute",bottom:0,left:0,whiteSpace:"nowrap",width:1}),[c,m]=(0,r.useState)({name:"",avatar:"",members:""}),h=e=>{let a=e.target.files?.[0];a?["image/png","image/jpeg"].includes(a.type)&&a.size<=2097152?m({...c,avatar:a}):alert("Le fichier doit \xeatre une image de type png ou jpeg et ne doit pas d\xe9passer 2Mo"):console.log("No file selected")};async function p(){let a=new FormData;Object.keys(c).forEach(e=>{"members"!=e&&a.append(e,c[e])});let t=await n.default.post(`http://localhost:8000/api/team/${e.user.id}`,a,{headers:{Authorization:`Bearer ${e.user.token}`,"Content-Type":"multipart/form-data"}});return 200==t.status&&t.data}async function x(a,t){console.log(a,t),await n.default.post("http://localhost:8000/api/teamuser",{user:a,team:t},{headers:{Authorization:`Bearer ${e.user.token}`}})}async function g(e){e.preventDefault();let a=await p();if(!1!=a)for(let e of c.members.split(",")){var t;(t=e.trim(),!String(t).toLowerCase().match(/^(([^<>()[\]\\.,;:\s@"]+(\.[^<>()[\]\\.,;:\s@"]+)*)|.(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/)&&e.trim().length>0)?s(!0):(console.log("ok"),await x(e.trim(),a.team.id))}window.location.reload()}return(0,i.jsxs)("div",{className:"team_form",children:[i.jsx("h3",{children:"Cr\xe9ez votre \xe9quipe"}),(0,i.jsxs)("div",{className:"same_line",children:[(0,i.jsxs)("div",{className:"input_grp",children:[i.jsx("p",{children:"Nom de l'\xe9quipe*"}),i.jsx("input",{type:"text",placeholder:"Centralized",name:"",id:"",onChange:e=>m({...c,name:e.target.value.trim()})})]}),(0,i.jsxs)("div",{className:"input_grp",children:[i.jsx("p",{children:"Avatar"}),(0,i.jsxs)(d(),{sx:{backgroundColor:"#0293FC",borderRadius:"10px",padding:"5px",color:"white",minWidth:"200px",margin:"5px",fontSize:"12px",fontFamily:"__myFont_834f5e"},component:"label",role:void 0,variant:"contained",startIcon:i.jsx(u(),{}),children:["Ajouter une image",i.jsx(l,{type:"file",onChange:e=>h(e)})]})]})]}),i.jsx("div",{className:"second_line",children:(0,i.jsxs)("div",{className:"input_grp",children:[i.jsx("p",{children:"Membres"}),i.jsx("p",{style:{fontSize:"10px"},children:"Ajouter des membres via leurs email s\xe9par\xe9 d'une virgule."}),i.jsx("input",{type:"input",placeholder:"aaaa@gmail.com, bbbb@gmail.com, cccc@gmail.com",name:"",id:"",onChange:e=>m({...c,members:e.target.value.trim()})}),t?i.jsx("p",{style:{backgroundColor:"#EF9A9A",padding:"5px",color:"white",borderRadius:"5px",marginTop:"10px",textAlign:"center",width:"60%"},children:"Veuillez entrer un email valide"}):null]})}),i.jsx("button",{className:"next_btn",onClick:e=>g(e),children:"Suivant"})]})};s()}catch(e){s(e)}})},6574:(e,a,t)=>{"use strict";t.r(a),t.d(a,{default:()=>Document});var s=t(997),i=t(6859);function Document(){return(0,s.jsxs)(i.Html,{style:{height:"100%"},children:[s.jsx(i.Head,{}),(0,s.jsxs)("body",{style:{height:"100%",margin:0,padding:0},children:[s.jsx(i.Main,{}),s.jsx(i.NextScript,{})]})]})}},864:()=>{},7823:()=>{}};