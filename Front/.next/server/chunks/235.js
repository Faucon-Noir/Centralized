exports.id=235,exports.ids=[235],exports.modules={30820:(e,a,t)=>{"use strict";var s=t(24994);a.A=void 0;var i=s(t(58117)),r=t(8732);a.A=(0,i.default)((0,r.jsx)("path",{d:"M19.35 10.04C18.67 6.59 15.64 4 12 4 9.11 4 6.6 5.64 5.35 8.04 2.34 8.36 0 10.91 0 14c0 3.31 2.69 6 6 6h13c2.76 0 5-2.24 5-5 0-2.64-2.05-4.78-4.65-4.96M14 13v4h-4v-4H7l5-5 5 5z"}),"CloudUpload")},12707:(e,a,t)=>{"use strict";t.a(e,async(e,s)=>{try{t.d(a,{A:()=>o});var i=t(8732),r=t(82015);t(16864);var n=t(1428),l=e([n]);function o({team:e,userData:a,clickable:t}){let[s,l]=(0,r.useState)([{id:0}]),[o,c]=(0,r.useState)(e),[d,m]=(0,r.useState)(""),[u,h]=(0,r.useState)(!1),[p,x]=(0,r.useState)(!1),g="https://centralized.fr/api/";async function j(e){console.log(e);try{await n.default.delete(`${g}teamuser/`+e.id,{headers:{Authorization:`Bearer ${a.user.token}`}}).then(t=>{200===t.status&&(e.user.id==a.user.id?window.location.reload():l(a=>a.filter(a=>a.id!==e.id)))})}catch(e){console.log(e)}}async function v(e,t){console.log(e,t),await n.default.post(`${g}teamuser/`,{user:e,team:t},{headers:{Authorization:`Bearer ${a.user.token}`}})}async function f(){let e=await n.default.patch(`${g}team/`+o.id,o,{headers:{Authorization:`Bearer ${a.user.token}`}});if(200==e.status)for(let e of d.split(",")){var t;(t=e.trim(),!String(t).toLowerCase().match(/^(([^<>()[\]\\.,;:\s@"]+(\.[^<>()[\]\\.,;:\s@"]+)*)|.(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/)&&e.trim().length>0)?x(!0):(console.log("ok"),await v(e.trim(),o.id))}window.location.reload()}return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsxs)("div",{className:"card_team",onClick:()=>t?h(!0):null,children:[(0,i.jsx)("div",{className:"card-header yellow",children:(0,i.jsx)("img",{src:"/media/"+e.avatar,alt:"avatar",className:"avatar",onError:e=>{e.currentTarget.src="/assets/avatar_team.png"}})}),(0,i.jsxs)("div",{className:"card-body",children:[(0,i.jsx)("h2",{className:"team-name",children:e.name}),(0,i.jsx)("div",{className:"card-footer",children:(0,i.jsxs)("div",{className:"team-info",children:[(0,i.jsx)("i",{className:"icon",children:"\uD83D\uDC65"}),(0,i.jsxs)("span",{children:[s?.length," personnes"]})]})})]})]}),u?(0,i.jsx)("div",{className:"team_modal_card",children:(0,i.jsxs)("div",{className:"team_main_modal_card",children:[(0,i.jsx)("img",{src:"/assets/icons/icon-cross.svg",alt:"",className:"cross",onClick:()=>h(!1)}),(0,i.jsxs)("div",{className:"team_main_modal_content",children:[(0,i.jsx)("div",{className:"image_container",children:(0,i.jsx)("img",{src:"/media/"+e.avatar,alt:"avatar",className:"avatar",onError:e=>{e.currentTarget.src="/assets/avatar_team.png"}})}),(0,i.jsxs)("div",{className:"right_modal_container",children:[(0,i.jsx)("input",{type:"text",value:o.name,onChange:e=>c({...o,name:e.target.value})}),(0,i.jsx)("div",{className:"user_container",children:s?s.map(e=>(0,i.jsxs)("div",{className:"one_user",children:[(0,i.jsxs)("p",{children:[(0,i.jsx)("img",{src:"/assets/icons/user.png",alt:""})," ",": ",e.user.lastname," ",e.user.firstname]}),e.user.id===a.user.id?(0,i.jsx)("p",{children:"(vous)"}):null,(0,i.jsxs)("p",{children:[(0,i.jsx)("img",{src:"/assets/icons/email.png",alt:""})," ",": ",e.user.mail]}),(0,i.jsx)("img",{src:"/assets/icons/bin.png",className:"bin_img",alt:"",onClick:()=>j(e)})]},e.id)):null}),(0,i.jsx)("input",{type:"text",placeholder:"Ajouter des membres (email)",onChange:e=>m(e.target.value)}),(0,i.jsx)("button",{onClick:()=>f(),children:"Termin\xe9"})]})]})]})}):null]})}n=(l.then?(await l)():l)[0],s()}catch(e){s(e)}})},45922:(e,a,t)=>{"use strict";t.a(e,async(e,s)=>{try{t.d(a,{A:()=>h});var i=t(8732),r=t(82015);t(60749);var n=t(1428),l=t(62611),o=t.n(l),c=t(583),d=t.n(c),m=t(30820),u=e([n]);n=(u.then?(await u)():u)[0];let h=function({userData:e,setUserStep:a}){let[t,s]=(0,r.useState)(!1),l=o()("input")({clip:"rect(0 0 0 0)",clipPath:"inset(50%)",height:1,overflow:"hidden",position:"absolute",bottom:0,left:0,whiteSpace:"nowrap",width:1}),[c,u]=(0,r.useState)({name:"",avatar:"",members:""}),h="https://centralized.fr/api/",p=e=>{let a=e.target.files?.[0];a?["image/png","image/jpeg"].includes(a.type)&&a.size<=2097152?u({...c,avatar:a}):alert("Le fichier doit \xeatre une image de type png ou jpeg et ne doit pas d\xe9passer 2Mo"):console.log("No file selected")};async function x(){let a=new FormData;Object.keys(c).forEach(e=>{"members"!=e&&a.append(e,c[e])});let t=await n.default.post(`${h}team/${e.user.id}`,a,{headers:{Authorization:`Bearer ${e.user.token}`,"Content-Type":"multipart/form-data"}});return 200==t.status&&t.data}async function g(a,t){console.log(a,t),await n.default.post(`${h}teamuser`,{user:a,team:t},{headers:{Authorization:`Bearer ${e.user.token}`}})}async function j(e){e.preventDefault();let a=await x();if(!1!=a)for(let e of c.members.split(",")){var t;(t=e.trim(),!String(t).toLowerCase().match(/^(([^<>()[\]\\.,;:\s@"]+(\.[^<>()[\]\\.,;:\s@"]+)*)|.(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/)&&e.trim().length>0)?s(!0):(console.log("ok"),await g(e.trim(),a.team.id))}window.location.reload()}return(0,i.jsxs)("div",{className:"team_form",children:[(0,i.jsx)("h3",{children:"Cr\xe9ez votre \xe9quipe"}),(0,i.jsxs)("div",{className:"same_line",children:[(0,i.jsxs)("div",{className:"input_grp",children:[(0,i.jsx)("p",{children:"Nom de l'\xe9quipe*"}),(0,i.jsx)("input",{type:"text",placeholder:"Centralized",name:"",id:"",onChange:e=>u({...c,name:e.target.value.trim()})})]}),(0,i.jsxs)("div",{className:"input_grp",children:[(0,i.jsx)("p",{children:"Avatar"}),(0,i.jsxs)(d(),{sx:{backgroundColor:"#0293FC",borderRadius:"10px",padding:"5px",color:"white",minWidth:"200px",margin:"5px",fontSize:"12px",fontFamily:"__myFont_834f5e"},component:"label",role:void 0,variant:"contained",startIcon:(0,i.jsx)(m.A,{}),children:["Ajouter une image",(0,i.jsx)(l,{type:"file",onChange:e=>p(e)})]})]})]}),(0,i.jsx)("div",{className:"second_line",children:(0,i.jsxs)("div",{className:"input_grp",children:[(0,i.jsx)("p",{children:"Membres"}),(0,i.jsx)("p",{style:{fontSize:"10px"},children:"Ajouter des membres via leurs email s\xe9par\xe9 d'une virgule."}),(0,i.jsx)("input",{type:"input",placeholder:"aaaa@gmail.com, bbbb@gmail.com, cccc@gmail.com",name:"",id:"",onChange:e=>u({...c,members:e.target.value.trim()})}),t?(0,i.jsx)("p",{style:{backgroundColor:"#EF9A9A",padding:"5px",color:"white",borderRadius:"5px",marginTop:"10px",textAlign:"center",width:"60%"},children:"Veuillez entrer un email valide"}):null]})}),(0,i.jsx)("button",{className:"next_btn",onClick:e=>j(e),children:"Suivant"})]})};s()}catch(e){s(e)}})},60262:(e,a,t)=>{"use strict";t.r(a),t.d(a,{default:()=>r});var s=t(8732),i=t(20883);function r(){return(0,s.jsxs)(i.Html,{style:{height:"100%"},children:[(0,s.jsx)(i.Head,{}),(0,s.jsxs)("body",{style:{height:"100%",margin:0,padding:0},children:[(0,s.jsx)(i.Main,{}),(0,s.jsx)(i.NextScript,{})]})]})}},16864:()=>{},60749:()=>{}};