(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[362],{53419:function(e,t,n){(window.__NEXT_P=window.__NEXT_P||[]).push(["/specification/create",function(){return n(56698)}])},56698:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return f}});var r=n(85893);n(79673);var a=n(11010),i=n(72253),s=n(14932),o=n(91309),u=n(97582),c=n(67294),l=n(87066),d=n(11163),h=n(60740),p=n(49391),_=function(e){var t=e.userData,n=(0,d.useRouter)(),_=(0,p.V)().startTask,f=(0,o._)((0,c.useState)({team:"",user:"",name:"",description:"",functionality:"",forecast:"",start_date:new Date,end_date:new Date,budget:"",technology:"",constraints:"",validation:"",teamUser:"",template:0,status:!1}),2),m=f[0],v=f[1];function x(){return(x=(0,a._)(function(){return(0,u.Jh)(this,function(e){switch(e.label){case 0:return v((0,s._)((0,i._)({},m),{user:t.user.id})),[4,(0,h.Z)(m)];case 1:if(!e.sent())return[3,3];return[4,l.Z.post("http://localhost:8000/api/project/".concat(m.team,"/").concat(m.user),m,{headers:{Authorization:"Bearer ".concat(t.user.token)}})];case 2:e.sent(),_(),n.push("/home"),e.label=3;case 3:return[2]}})})).apply(this,arguments)}return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)("h1",{className:"title",children:"Cr\xe9e un nouveau projet"}),(0,r.jsxs)("div",{className:"w-45",children:[(0,r.jsxs)("div",{className:"small",children:[(0,r.jsx)("input",{type:"text",placeholder:"Titre du projet",onChange:function(e){return v((0,s._)((0,i._)({},m),{name:e.target.value.trim()}))},required:!0}),(0,r.jsx)("input",{type:"text",placeholder:"Description du projet",onChange:function(e){return v((0,s._)((0,i._)({},m),{description:e.target.value.trim()}))}})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("textarea",{placeholder:"Fonctionnalit\xe9s du projet",rows:5,cols:50,onChange:function(e){return v((0,s._)((0,i._)({},m),{functionality:e.target.value.trim()}))}}),(0,r.jsx)("textarea",{placeholder:"Technologies du projet",rows:5,cols:30,onChange:function(e){return v((0,s._)((0,i._)({},m),{technology:e.target.value.trim()}))}})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("textarea",{placeholder:"Planning pr\xe9visionnel",rows:5,cols:50,onChange:function(e){return v((0,s._)((0,i._)({},m),{forecast:e.target.value.trim()}))}}),(0,r.jsx)("textarea",{placeholder:"R\xe9partition de l'\xe9quipe",rows:5,cols:100,onChange:function(e){return v((0,s._)((0,i._)({},m),{teamUser:e.target.value.trim()}))}})]}),(0,r.jsxs)("div",{className:"small",children:[(0,r.jsx)("input",{type:"date",placeholder:"Date de d\xe9but",onChange:function(e){return v((0,s._)((0,i._)({},m),{start_date:e.target.value.trim()}))}}),(0,r.jsx)("input",{type:"date",placeholder:"Date de fin",onChange:function(e){return v((0,s._)((0,i._)({},m),{end_date:e.target.value.trim()}))}})]}),(0,r.jsxs)("div",{className:"centered",children:[(0,r.jsx)("input",{placeholder:"Budget pr\xe9visionnel",type:"text",onChange:function(e){return v((0,s._)((0,i._)({},m),{budget:e.target.value.trim()}))}}),(0,r.jsxs)("select",{onChange:function(e){return v((0,s._)((0,i._)({},m),{team:e.target.value.trim()}))},required:!0,children:[(0,r.jsx)("option",{value:"",children:"Veuillez choisir une \xe9quipe"}),(null==t?void 0:t.team)?null==t?void 0:t.team.map(function(e){return(0,r.jsx)("option",{value:e.team.id,children:e.team.name},e.team.id)}):null]})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("textarea",{placeholder:"Contraintes du projet",rows:5,cols:30,onChange:function(e){return v((0,s._)((0,i._)({},m),{constraints:e.target.value.trim()}))}}),(0,r.jsx)("textarea",{placeholder:"Conditions de validation",rows:5,cols:30,onChange:function(e){return v((0,s._)((0,i._)({},m),{validation:e.target.value.trim()}))}})]})]}),(0,r.jsx)("button",{onClick:function(){return x.apply(this,arguments)},disabled:!m.name||!m.description||!m.functionality||!m.forecast||!m.start_date||!m.end_date||!m.budget||!m.team||!m.technology||!m.constraints||!m.validation||!m.teamUser,children:"G\xe9n\xe9rer"})]})};function f(e){var t=e.userData;return(0,r.jsx)(r.Fragment,{children:(0,r.jsx)("div",{className:"container",children:(0,r.jsx)("div",{className:"wrapper",children:(0,r.jsx)(_,{userData:t})})})})}},60740:function(e,t,n){"use strict";n.d(t,{Z:function(){return i}});var r=n(11010),a=n(97582);function i(e){return s.apply(this,arguments)}function s(){return(s=(0,r._)(function(e){var t;return(0,a.Jh)(this,function(n){for(var r in t=["template","status"],e)if(!t.includes(r)&&""==e[r])return[2,!1];return[2,!0]})})).apply(this,arguments)}},79673:function(){}},function(e){e.O(0,[774,888,179],function(){return e(e.s=53419)}),_N_E=e.O()}]);