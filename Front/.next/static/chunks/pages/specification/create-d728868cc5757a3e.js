(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[902],{96652:(e,t,a)=>{(window.__NEXT_P=window.__NEXT_P||[]).push(["/specification/create",function(){return a(92389)}])},43701:(e,t,a)=>{"use strict";a.d(t,{y:()=>r});var n=a(94624);function r(e){let t=n.createCipheriv("aes-256-cbc","8C3xn1a@&AEtWhfrnh^BbZU^","r7d%xz2TxDy8UV&66Q75&^G");return console.log("cipher","aes-256-cbc","8C3xn1a@&AEtWhfrnh^BbZU^","r7d%xz2TxDy8UV&66Q75&^G"),t.update(e,"utf8","hex")+t.final("hex")}},92389:(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>u});var n=a(74848);a(36588);var r=a(96540),i=a(94335),s=a(86715),o=a(5631),l=a(92058),c=a(43701);let d=function({userData:e}){let t=(0,s.useRouter)(),{startTask:a}=(0,l.b)(),[d,u]=(0,r.useState)({team:"",user:"",name:"",description:"",functionality:"",forecast:"",start_date:new Date,end_date:new Date,budget:"",technology:"",constraints:"",validation:"",teamRole:"",template:0,status:!1});async function h(){if(u({...d,user:e.user.id}),await (0,o.A)(d)){let n={...d,name:(0,c.y)(d.name.trim()),description:(0,c.y)(d.description.trim()),functionality:(0,c.y)(d.functionality.trim()),forecast:(0,c.y)(d.forecast.trim()),budget:(0,c.y)(d.budget.trim()),technology:(0,c.y)(d.technology.trim()),constraints:(0,c.y)(d.constraints.trim()),validation:(0,c.y)(d.validation.trim()),teamRole:(0,c.y)(d.teamRole.trim())};await i.A.post(`https://centralized.fr/api/project/${d.team}/${d.user}`,n,{headers:{Authorization:`Bearer ${e.user.token}`}}),a(),t.push("/home")}}return(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)("h1",{className:"title",children:"Cr\xe9e un nouveau projet"}),(0,n.jsxs)("div",{className:"w-45",children:[(0,n.jsxs)("div",{className:"small",children:[(0,n.jsx)("input",{type:"text",placeholder:"Titre du projet",onChange:e=>u({...d,name:e.target.value.trim()}),required:!0}),(0,n.jsx)("input",{type:"text",placeholder:"Description du projet",onChange:e=>u({...d,description:e.target.value.trim()})})]}),(0,n.jsxs)("div",{children:[(0,n.jsx)("textarea",{placeholder:"Fonctionnalit\xe9s du projet",rows:5,cols:50,onChange:e=>u({...d,functionality:e.target.value.trim()})}),(0,n.jsx)("textarea",{placeholder:"Technologies du projet",rows:5,cols:30,onChange:e=>u({...d,technology:e.target.value.trim()})})]}),(0,n.jsxs)("div",{children:[(0,n.jsx)("textarea",{placeholder:"Planning pr\xe9visionnel",rows:5,cols:50,onChange:e=>u({...d,forecast:e.target.value.trim()})}),(0,n.jsx)("textarea",{placeholder:"R\xe9partition de l'\xe9quipe",rows:5,cols:100,onChange:e=>u({...d,teamRole:e.target.value.trim()})})]}),(0,n.jsxs)("div",{className:"small",children:[(0,n.jsx)("input",{type:"date",placeholder:"Date de d\xe9but",onChange:e=>u({...d,start_date:e.target.value.trim()})}),(0,n.jsx)("input",{type:"date",placeholder:"Date de fin",onChange:e=>u({...d,end_date:e.target.value.trim()})})]}),(0,n.jsxs)("div",{className:"centered",children:[(0,n.jsx)("input",{placeholder:"Budget pr\xe9visionnel",type:"text",onChange:e=>u({...d,budget:e.target.value.trim()})}),(0,n.jsxs)("select",{onChange:e=>u({...d,team:e.target.value.trim()}),required:!0,children:[(0,n.jsx)("option",{value:"",children:"Veuillez choisir une \xe9quipe"}),e?.team?e?.team.map(e=>n.jsx("option",{value:e.team.id,children:e.team.name},e.team.id)):null]})]}),(0,n.jsxs)("div",{children:[(0,n.jsx)("textarea",{placeholder:"Contraintes du projet",rows:5,cols:30,onChange:e=>u({...d,constraints:e.target.value.trim()})}),(0,n.jsx)("textarea",{placeholder:"Conditions de validation",rows:5,cols:30,onChange:e=>u({...d,validation:e.target.value.trim()})})]})]}),(0,n.jsx)("button",{onClick:h,disabled:!d.name||!d.description||!d.functionality||!d.forecast||!d.start_date||!d.end_date||!d.budget||!d.team||!d.technology||!d.constraints||!d.validation||!d.teamRole,children:"G\xe9n\xe9rer"})]})};function u({userData:e}){return(0,n.jsx)(n.Fragment,{children:(0,n.jsx)("div",{className:"container",children:(0,n.jsx)("div",{className:"wrapper",children:(0,n.jsx)(d,{userData:e})})})})}},5631:(e,t,a)=>{"use strict";async function n(e){let t=["template","status"];for(let a in e)if(!t.includes(a)&&""==e[a])return!1;return!0}a.d(t,{A:()=>n})},36588:()=>{}},e=>{var t=t=>e(e.s=t);e.O(0,[200,338,636,593,792],()=>t(96652)),_N_E=e.O()}]);