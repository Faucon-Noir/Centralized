(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[295],{95461:(e,s,a)=>{(window.__NEXT_P=window.__NEXT_P||[]).push(["/login",function(){return a(67649)}])},67649:(e,s,a)=>{"use strict";a.r(s),a.d(s,{default:()=>j});var t=a(74848),n=a(96540);let l={display:"flex",flexDirection:"column",justifyItems:"flex-start",alignItems:"center",marginTop:"40px",padding:2,borderRadius:"16px"},i={display:"flex",justifyContent:"center",alignItems:"center",boxShadow:"none",borderRadius:"16px"};var o=a(14959),c=a(79309),r=a(24652),d=a(32730),m=a(13947),h=a(63722),p=a(94335),u=a(86715),x=a(14685);let g=function(){let e=(0,u.useRouter)(),[s,a]=(0,n.useState)(!1),[g,j]=(0,n.useState)(0),[_,b]=(0,n.useState)(0),[v,y]=(0,n.useState)({lastname:"",firstname:"",mail:"",phone:"",password:""}),N="https://centralized.fr/api/";return(0,t.jsxs)(o.A,{"data-cy":"registration_form",maxWidth:"sm",children:[(0,t.jsx)("h1",{className:"welcome",children:"Bienvenue âœŒ\uD83C\uDFFB"}),(0,t.jsxs)(c.A,{sx:l,children:[(0,t.jsx)(c.A,{sx:{backgroundColor:"#0293FC",padding:"4px",borderRadius:"16px"},children:(0,t.jsxs)(r.A,{variant:"contained",sx:i,children:[(0,t.jsx)("button",{"data-cy":"register_button",className:"auth_button register_button",onClick:()=>a(!0),style:{color:s?"black":"white",backgroundColor:s?"#FFFFFF":"#0293FC"},children:"Inscription"}),(0,t.jsx)("button",{"data-cy":"login_button",className:"auth_button login_button",onClick:()=>a(!1),style:{color:s?"white":"black",backgroundColor:s?"#0293FC":"#FFFFFF"},children:"Connexion"})]})}),(0,t.jsxs)("div",{className:"form_container",children:[s?(0,t.jsxs)("div",{className:"line first-line",children:[(0,t.jsxs)("div",{className:"row",children:[(0,t.jsx)("label",{htmlFor:"Nom",children:"Nom"}),(0,t.jsx)("input",{"data-cy":"name",type:"text",placeholder:"Jean",onChange:e=>y({...v,firstname:e.target.value})})]}),(0,t.jsxs)("div",{className:"row",children:[(0,t.jsx)("label",{htmlFor:"Nom",children:"Pr\xe9nom"}),(0,t.jsx)("input",{"data-cy":"surname",type:"text",placeholder:"Dupont",onChange:e=>y({...v,lastname:e.target.value})})]})]}):null,(0,t.jsx)("div",{className:"line second-line",children:(0,t.jsxs)("div",{className:"row full",children:[(0,t.jsx)("label",{htmlFor:"Nom",children:"Email"}),(0,t.jsx)("input",{"data-cy":"mail",type:"text",placeholder:"Exemple@gmail.com",onChange:e=>y({...v,mail:e.target.value})})]})}),s?(0,t.jsx)("div",{className:"line third-line",children:(0,t.jsxs)("div",{className:"row ",children:[(0,t.jsx)("label",{htmlFor:"Nom",children:"T\xe9l\xe9phone portable"}),(0,t.jsx)("input",{"data-cy":"phone",type:"Number",placeholder:"+33 7 XX XX XX XX",onChange:e=>y({...v,phone:e.target.value})})]})}):null,(0,t.jsx)("div",{className:"line fourth-line",children:(0,t.jsxs)("div",{className:"row ",children:[(0,t.jsx)("label",{"data-cy":"password",htmlFor:"Nom",children:"Choisissez un mot de passe"}),(0,t.jsx)("input",{type:"password",placeholder:"**********",onChange:e=>y({...v,password:e.target.value})})]})}),s?(0,t.jsx)(d.A,{"data-cy":"cgu_button",required:!0,control:(0,t.jsx)(m.A,{}),label:"J'accepte les conditions d'utilisation"}):(0,t.jsx)(h.A,{"data-cy":"forgot_password",href:"/forgotPassword",underline:"hover",style:{color:"#0293FC",fontSize:"12px"},children:"Mot de passe oubli\xe9 ?"}),s?0==_?"":(0,t.jsx)("p",{className:"error_message",children:1==_?"L'adresse mail existe d\xe9j\xe0":"Le compte n'a pas pu \xeatre cr\xe9\xe9"}):0==g?"":(0,t.jsx)("p",{className:"error_message",children:"L'adresse mail ou le mot de passe est incorrect"}),(0,t.jsx)("button",{"data-cy":"submit_button",className:"login_button",onClick:a=>{a.preventDefault(),!1==s?(j(0),p.A.post(`${N}login`,{mail:v.mail.trim(),password:v.password.trim()}).then(function(s){console.log(s),200===s.status&&s.data.success?(localStorage.setItem("token",s.data.token),console.log("logged in"),e.push("/home")):j(1)}).catch(function(e){console.log(e),j(1)})):(b(0),p.A.post(`${N}register`,{lastname:v.lastname.trim(),firstname:v.firstname.trim(),mail:v.mail.trim(),phone:v.phone.trim(),password:v.password.trim()}).then(function(s){if(200===s.status&&s.data.success){for(let e=0;e<20;e++)(0,x.A)({origin:{x:Math.random()-.1,y:Math.random()-.1}});setTimeout(()=>{j(0),b(0),localStorage.setItem("token",s.data.token),e.push("/home")},1e3)}else s.data.error&&"Account existing. Please Login"==s.data.error?b(1):b(2)}).catch(function(e){console.log(e),b(1)}))},children:s?"Je m'inscris":"Je me connecte"})]})]})]})};a(11117);let j=function(){return(0,t.jsxs)("div",{className:"login_container",children:[(0,t.jsx)("div",{"data-cy":"white_grid",className:"main_container",children:(0,t.jsx)(g,{})}),(0,t.jsxs)("div",{"data-cy":"blue_grid",className:"logo_container",children:[(0,t.jsxs)("div",{className:"logo",children:[(0,t.jsx)("img",{"data-cy":"white_logo",src:"/assets/logo/WhiteLogoUnder.png",alt:"Logo"}),(0,t.jsx)("p",{"data-cy":"white_logo_label",children:"Travaillez ensemble plus facilement \uD83E\uDD1D"})]}),(0,t.jsxs)("div",{className:"icons",children:[(0,t.jsxs)("div",{className:"common projects",children:[(0,t.jsx)("img",{"data-cy":"project_img",src:"/assets/icons/project.svg",alt:""}),(0,t.jsx)("p",{"data-cy":"projects_label",children:"Mes projets"})]}),(0,t.jsxs)("div",{className:"common plannings",children:[(0,t.jsx)("img",{"data-cy":"planning_img",src:"/assets/icons/planning.svg",alt:""}),(0,t.jsx)("p",{"data-cy":"plannings_label",children:"Mon Planning"})]}),(0,t.jsxs)("div",{"data-cy":"specification_img",className:"common specification",children:[(0,t.jsx)("img",{src:"/assets/icons/specification.svg",alt:""}),(0,t.jsx)("p",{"data-cy":"specification_label",children:"Cahier des charges"})]}),(0,t.jsxs)("div",{className:"common tickets",children:[(0,t.jsx)("img",{"data-cy":"ticket_img",src:"/assets/icons/tickets.svg",alt:""}),(0,t.jsx)("p",{"data-cy":"tickets_label",children:"Tickets"})]}),(0,t.jsxs)("div",{className:"common teams",children:[(0,t.jsx)("img",{"data-cy":"team_img",src:"/assets/icons/teams.svg",alt:""}),(0,t.jsx)("p",{"data-cy":"teams_label",children:"\xc9quipe"})]}),(0,t.jsxs)("div",{className:"common rex",children:[(0,t.jsx)("img",{"data-cy":"rex_img",src:"/assets/icons/rex.svg",alt:""}),(0,t.jsx)("p",{"data-cy":"rex_label",children:"Rex"})]})]})]})]})}},11117:()=>{}},e=>{var s=s=>e(e.s=s);e.O(0,[108,172,636,593,792],()=>s(95461)),_N_E=e.O()}]);