(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[459],{73700:function(e,s,a){(window.__NEXT_P=window.__NEXT_P||[]).push(["/login",function(){return a(40633)}])},40633:function(e,s,a){"use strict";a.r(s),a.d(s,{default:function(){return b}});var t=a(85893),n=a(72253),i=a(14932),o=a(91309),l=a(67294),c={display:"flex",flexDirection:"column",justifyItems:"flex-start",alignItems:"center",marginTop:"40px",padding:2,borderRadius:"16px"},r={display:"flex",justifyContent:"center",alignItems:"center",boxShadow:"none",borderRadius:"16px"},d=a(65582),m=a(5616),u=a(68540),h=a(66836),p=a(85071),x=a(23795),g=a(87066),j=a(11163),_=a(39883),f=function(){var e=(0,j.useRouter)(),s=(0,o._)((0,l.useState)(!1),2),a=s[0],f=s[1],b=(0,o._)((0,l.useState)(0),2),v=b[0],y=b[1],N=(0,o._)((0,l.useState)(0),2),w=N[0],F=N[1],C=(0,o._)((0,l.useState)({lastname:"",firstname:"",mail:"",phone:"",password:""}),2),k=C[0],X=C[1],Z="http://centralized.fr:8000/api/";return(0,t.jsxs)(d.Z,{"data-cy":"registration_form",maxWidth:"sm",children:[(0,t.jsx)("h1",{className:"welcome",children:"Bienvenue âœŒ\uD83C\uDFFB"}),(0,t.jsxs)(m.Z,{sx:c,children:[(0,t.jsx)(m.Z,{sx:{backgroundColor:"#0293FC",padding:"4px",borderRadius:"16px"},children:(0,t.jsxs)(u.Z,{variant:"contained",sx:r,children:[(0,t.jsx)("button",{"data-cy":"register_button",className:"auth_button register_button",onClick:function(){return f(!0)},style:{color:a?"black":"white",backgroundColor:a?"#FFFFFF":"#0293FC"},children:"Inscription"}),(0,t.jsx)("button",{"data-cy":"login_button",className:"auth_button login_button",onClick:function(){return f(!1)},style:{color:a?"white":"black",backgroundColor:a?"#0293FC":"#FFFFFF"},children:"Connexion"})]})}),(0,t.jsxs)("div",{className:"form_container",children:[a?(0,t.jsxs)("div",{className:"line first-line",children:[(0,t.jsxs)("div",{className:"row",children:[(0,t.jsx)("label",{htmlFor:"Nom",children:"Nom"}),(0,t.jsx)("input",{"data-cy":"name",type:"text",placeholder:"Jean",onChange:function(e){return X((0,i._)((0,n._)({},k),{firstname:e.target.value}))}})]}),(0,t.jsxs)("div",{className:"row",children:[(0,t.jsx)("label",{htmlFor:"Nom",children:"Pr\xe9nom"}),(0,t.jsx)("input",{"data-cy":"surname",type:"text",placeholder:"Dupont",onChange:function(e){return X((0,i._)((0,n._)({},k),{lastname:e.target.value}))}})]})]}):null,(0,t.jsx)("div",{className:"line second-line",children:(0,t.jsxs)("div",{className:"row full",children:[(0,t.jsx)("label",{htmlFor:"Nom",children:"Email"}),(0,t.jsx)("input",{"data-cy":"mail",type:"text",placeholder:"Exemple@gmail.com",onChange:function(e){return X((0,i._)((0,n._)({},k),{mail:e.target.value}))}})]})}),a?(0,t.jsx)("div",{className:"line third-line",children:(0,t.jsxs)("div",{className:"row ",children:[(0,t.jsx)("label",{htmlFor:"Nom",children:"T\xe9l\xe9phone portable"}),(0,t.jsx)("input",{"data-cy":"phone",type:"Number",placeholder:"+33 7 XX XX XX XX",onChange:function(e){return X((0,i._)((0,n._)({},k),{phone:e.target.value}))}})]})}):null,(0,t.jsx)("div",{className:"line fourth-line",children:(0,t.jsxs)("div",{className:"row ",children:[(0,t.jsx)("label",{"data-cy":"password",htmlFor:"Nom",children:"Choisissez un mot de passe"}),(0,t.jsx)("input",{type:"password",placeholder:"**********",onChange:function(e){return X((0,i._)((0,n._)({},k),{password:e.target.value}))}})]})}),a?(0,t.jsx)(h.Z,{"data-cy":"cgu_button",required:!0,control:(0,t.jsx)(p.Z,{}),label:"J'accepte les conditions d'utilisation"}):(0,t.jsx)(x.Z,{"data-cy":"forgot_password",href:"/forgotPassword",underline:"hover",style:{color:"#0293FC",fontSize:"12px"},children:"Mot de passe oubli\xe9 ?"}),a?0==w?"":(0,t.jsx)("p",{className:"error_message",children:1==w?"L'adresse mail existe d\xe9j\xe0":"Le compte n'a pas pu \xeatre cr\xe9\xe9"}):0==v?"":(0,t.jsx)("p",{className:"error_message",children:"L'adresse mail ou le mot de passe est incorrect"}),(0,t.jsx)("button",{"data-cy":"submit_button",className:"login_button",onClick:function(s){s.preventDefault(),!1==a?(y(0),g.Z.post("".concat(Z,"login"),{mail:k.mail.trim(),password:k.password.trim()}).then(function(s){console.log(s),200===s.status&&s.data.success?(localStorage.setItem("token",s.data.token),console.log("logged in"),e.push("/home")):y(1)}).catch(function(e){console.log(e),y(1)})):(F(0),g.Z.post("".concat(Z,"register"),{lastname:k.lastname.trim(),firstname:k.firstname.trim(),mail:k.mail.trim(),phone:k.phone.trim(),password:k.password.trim()}).then(function(s){if(200===s.status&&s.data.success){for(var a=0;a<20;a++)(0,_.Z)({origin:{x:Math.random()-.1,y:Math.random()-.1}});setTimeout(function(){y(0),F(0),localStorage.setItem("token",s.data.token),e.push("/home")},1e3)}else s.data.error&&"Account existing. Please Login"==s.data.error?F(1):F(2)}).catch(function(e){console.log(e),F(1)}))},children:a?"Je m'inscris":"Je me connecte"})]})]})]})};a(66519);var b=function(){return(0,t.jsxs)("div",{className:"login_container",children:[(0,t.jsx)("div",{"data-cy":"white_grid",className:"main_container",children:(0,t.jsx)(f,{})}),(0,t.jsxs)("div",{"data-cy":"blue_grid",className:"logo_container",children:[(0,t.jsxs)("div",{className:"logo",children:[(0,t.jsx)("img",{"data-cy":"white_logo",src:"/assets/logo/WhiteLogoUnder.png",alt:"Logo"}),(0,t.jsx)("p",{"data-cy":"white_logo_label",children:"Travaillez ensemble plus facilement \uD83E\uDD1D"})]}),(0,t.jsxs)("div",{className:"icons",children:[(0,t.jsxs)("div",{className:"common projects",children:[(0,t.jsx)("img",{"data-cy":"project_img",src:"/assets/icons/project.svg",alt:""}),(0,t.jsx)("p",{"data-cy":"projects_label",children:"Mes projets"})]}),(0,t.jsxs)("div",{className:"common plannings",children:[(0,t.jsx)("img",{"data-cy":"planning_img",src:"/assets/icons/planning.svg",alt:""}),(0,t.jsx)("p",{"data-cy":"plannings_label",children:"Mon Planning"})]}),(0,t.jsxs)("div",{"data-cy":"specification_img",className:"common specification",children:[(0,t.jsx)("img",{src:"/assets/icons/specification.svg",alt:""}),(0,t.jsx)("p",{"data-cy":"specification_label",children:"Cahier des charges"})]}),(0,t.jsxs)("div",{className:"common tickets",children:[(0,t.jsx)("img",{"data-cy":"ticket_img",src:"/assets/icons/tickets.svg",alt:""}),(0,t.jsx)("p",{"data-cy":"tickets_label",children:"Tickets"})]}),(0,t.jsxs)("div",{className:"common teams",children:[(0,t.jsx)("img",{"data-cy":"team_img",src:"/assets/icons/teams.svg",alt:""}),(0,t.jsx)("p",{"data-cy":"teams_label",children:"\xc9quipe"})]}),(0,t.jsxs)("div",{className:"common rex",children:[(0,t.jsx)("img",{"data-cy":"rex_img",src:"/assets/icons/rex.svg",alt:""}),(0,t.jsx)("p",{"data-cy":"rex_label",children:"Rex"})]})]})]})]})}},66519:function(){}},function(e){e.O(0,[607,863,774,888,179],function(){return e(e.s=73700)}),_N_E=e.O()}]);